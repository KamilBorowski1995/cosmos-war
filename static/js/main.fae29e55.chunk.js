(this["webpackJsonpcosmos-war"]=this["webpackJsonpcosmos-war"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,c){},,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),o=c(9),r=c.n(o),s=(c(14),c(3)),i=c(7),l=c(2),u=c(6),j=c.n(u),O={StartGame:!1,GameOver:!1,PlayerX:0,Rock:[],Bullet:[],Explosion:[],WindowSize:[0,0],Points:0,HP_Player:3};function b(e,t){switch(t.type){case"SET_START_GAME":return Object(l.a)(Object(l.a)({},e),{},{StartGame:!0});case"SET_END_GAME":return console.log("ko\u0144czymy"),console.log(e),Object(l.a)({},O);case"SET_WINDOW_SIZE":return Object(l.a)(Object(l.a)({},e),{},{WindowSize:[t.sizeX,t.sizeY]});case"MOVE_RIGHT":return e.PlayerX<e.WindowSize[0]-100?Object(l.a)(Object(l.a)({},e),{},{PlayerX:e.PlayerX+8}):Object(l.a)({},e);case"MOVE_LEFT":return e.PlayerX>100?Object(l.a)(Object(l.a)({},e),{},{PlayerX:e.PlayerX-8}):Object(l.a)({},e);case"MOVE_ROCK":var c=e.Rock.map((function(e){var t=e.posX,c=e.posY,n=e.id;return c>-64?{id:n,posY:c-2,posX:t}:void 0})).filter((function(e){return void 0!==e}));return Object(l.a)(Object(l.a)({},e),{},{Rock:c});case"NEW_ROCK":var n=[].concat(Object(i.a)(e.Rock),[{id:j()(),posX:(E=100,h=e.WindowSize[0]-100,E=Math.ceil(E),h=Math.floor(h),Math.floor(Math.random()*(h-E))+E),posY:e.WindowSize[1]}]);return Object(l.a)(Object(l.a)({},e),{},{Rock:n});case"NEW_BULLET":var a=[].concat(Object(i.a)(e.Bullet),[{id:j()(),posX:e.PlayerX+24,posY:168}]);return Object(l.a)(Object(l.a)({},e),{},{Bullet:a});case"MOVE_BULLET":var o=e.Bullet.map((function(e){var t=e.posX,c=e.posY,n=e.id;return c<1e3?{id:n,posY:c+4,posX:t}:void 0})).filter((function(e){return void 0!==e}));return Object(l.a)(Object(l.a)({},e),{},{Bullet:o});case"DESTRUCTION_ROCK":var r=null,s=null,u=e.Points,b=null,p=(e.Rock.forEach((function(t){e.Bullet.forEach((function(e){t.posX-4<=e.posX&&t.posX+64>=e.posX&&t.posY<=e.posY&&(r=t.id,s=e.id,u+=1,b={id:j()(),posX:t.posX-64,posY:t.posY-64})}))})),e.Rock.filter((function(e){return e.id!==r}))),f=e.Bullet.filter((function(e){return e.id!==s}));return null===b?Object(l.a)(Object(l.a)({},e),{},{Rock:p,Bullet:f,Points:u}):Object(l.a)(Object(l.a)({},e),{},{Rock:p,Bullet:f,Points:u,Explosion:[].concat(Object(i.a)(e.Explosion),[b])});case"LOSS_LIFE":var d=null,m=e.HP_Player,v=(e.Rock.forEach((function(t){t.posX-168<=e.PlayerX&&t.posX+64>=e.PlayerX&&t.posY<=164&&(d=t.id,m-=1)})),e.Rock.filter((function(e){return e.id!==d})));return e.HP_Player<=0?Object(l.a)(Object(l.a)({},e),{},{Rock:v,HP_Player:m,GameOver:!0}):Object(l.a)(Object(l.a)({},e),{},{Rock:v,HP_Player:m});default:throw new Error}var E,h}c(16);var p=c.p+"static/media/airplane.00b92857.svg",f=(c(17),c(0)),d=function(e){var t=e.positionX,c=Object(n.useState)(t),a=Object(s.a)(c,2),o=a[0],r=a[1];Object(n.useEffect)((function(){r(t)}),[t]);var i={left:o};return Object(f.jsx)("img",{style:i,className:"SVGElement plane",src:p,alt:"Icon made by Freepik from www.flaticon.com"})},m=c.p+"static/media/bullet.5bf0cc54.svg",v=(c(19),function(e){var t=Object(n.useState)(0),c=Object(s.a)(t,2),a=c[0],o=c[1],r=Object(n.useState)(0),i=Object(s.a)(r,2),l=i[0],u=i[1];Object(n.useEffect)((function(){o(e.posX),u(e.posY)}),[e]);var j={left:a,bottom:l};return Object(f.jsx)("img",{className:"Bullet",style:j,src:m,alt:"Icon made by Good Ware from www.flaticon.com"})}),E=c.p+"static/media/rock.38b58fe3.svg",h=(c(20),function(e){var t=Object(n.useState)(0),c=Object(s.a)(t,2),a=c[0],o=c[1],r=Object(n.useState)(0),i=Object(s.a)(r,2),l=i[0],u=i[1];Object(n.useEffect)((function(){o(e.posX),u(e.posY)}),[e]);var j={left:a,transform:"translateY(-".concat(l,"px) rotate(").concat(l,"deg)")},O={left:a,bottom:l};return Object(f.jsx)("img",{className:"rock",style:l>0?j:O,src:E,alt:"Icon made by DinosoftLabs from www.flaticon.com"})}),y=(c(21),c.p+"static/media/explosion.34dd94e1.png"),x=(c(22),function(e){var t=Object(n.useState)(0),c=Object(s.a)(t,2),a=c[0],o=c[1],r=Object(n.useState)(0),i=Object(s.a)(r,2),l=i[0],u=i[1];Object(n.useEffect)((function(){o(e.posX),u(e.posY)}),[e]);var j={left:a,bottom:l,backgroundImage:"url(".concat(y,")")};return Object(f.jsx)("div",{className:"explosion",style:j})});var S=function(e,t){var c=Object(n.useRef)(e);Object(n.useEffect)((function(){c.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){return c.current()}),t);return function(){return clearInterval(e)}}}),[t])},X=(c(23),function(e){var t=e.score,c=e.changeEndGame;return Object(f.jsxs)("div",{className:"gameoverPage",children:[Object(f.jsx)("div",{className:"gameoverPage__opaciy"}),Object(f.jsxs)("div",{className:"gameoverPage__result-Wrapper",children:[Object(f.jsx)("p",{children:"Przegrana"}),Object(f.jsxs)("p",{children:["Ilos\u0107 punkt\xf3w: ",t]}),Object(f.jsx)("button",{onClick:c,children:"Menu g\u0142\xf3wne"})]})]})}),_=function(e){var t=e.changeEndGame,c=Object(n.useReducer)(b,O),a=Object(s.a)(c,2),o=a[0],r=a[1],i=Object(n.useState)("none"),l=Object(s.a)(i,2),u=l[0],j=l[1],p={xMove:"none",shoot:!1};Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){switch(e.keyCode){case 37:p.xMove="left",j("left");break;case 39:p.xMove="right",j("right");break;case 32:!0!==p.shoot&&!1===o.GameOver&&(p.shoot=!0,r({type:"NEW_BULLET"}))}})),window.addEventListener("keyup",(function(e){switch(e.keyCode){case 37:case 39:p.xMove="none",j("none");break;case 32:p.shoot=!1}})),function(){var e=window.innerWidth,t=window.innerHeight;r({type:"SET_WINDOW_SIZE",sizeX:e,sizeY:t})}()}),[]),S((function(){"right"===u&&r({type:"MOVE_RIGHT"}),"left"===u&&r({type:"MOVE_LEFT"}),r({type:"MOVE_ROCK"}),r({type:"MOVE_BULLET"}),r({type:"DESTRUCTION_ROCK"}),r({type:"LOSS_LIFE"})}),o.GameOver?null:1e3/60),S((function(){r({type:"NEW_ROCK"})}),o.GameOver?null:2e3);var m=o.Bullet.map((function(e){var t=e.id,c=e.posX,n=e.posY;return Object(f.jsx)(v,{id:t,posX:c,posY:n},t)})),E=o.Rock.map((function(e){var t=e.id,c=e.posX,n=e.posY;return Object(f.jsx)(h,{id:t,posX:c,posY:n},t)})),y=o.Explosion.map((function(e){var t=e.id,c=e.posX,n=e.posY;return Object(f.jsx)(x,{id:t,posX:c,posY:n},t)}));return Object(f.jsxs)("div",{className:"map",children:[Object(f.jsx)(d,{positionX:o.PlayerX}),o.Bullet.length>0&&m,o.Rock.length>0&&E,o.Explosion.length>0&&y,Object(f.jsxs)("div",{className:"game-info",children:[Object(f.jsxs)("p",{className:"player-hp",children:[Object(f.jsx)("span",{children:o.HP_Player})," HP"]}),Object(f.jsx)("p",{className:"player-points",children:Object(f.jsxs)("span",{children:["SCORE: ",o.Points]})})]}),Object(f.jsx)("div",{className:"floor"}),o.GameOver&&Object(f.jsx)(X,{score:o.Points,changeEndGame:t})]})},g=(c(24),function(e){var t=e.changeStartGame;return Object(f.jsxs)("div",{className:"menu",children:[Object(f.jsx)("p",{children:"Zaczynamy?"}),Object(f.jsx)("button",{onClick:t,children:"START GAME"})]})});var w=function(){var e=Object(n.useReducer)(b,O),t=Object(s.a)(e,2),c=t[0],a=t[1];return Object(f.jsx)("div",{className:"App",children:Object(f.jsx)("header",{className:"App-header",children:c.StartGame?Object(f.jsx)(_,{changeEndGame:function(){a({type:"SET_END_GAME"})}}):Object(f.jsx)(g,{changeStartGame:function(){a({type:"SET_START_GAME"})}})})})};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(w,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.fae29e55.chunk.js.map